"use strict";

var chai   = require("chai");
var expect = chai.expect;
var gretro = require("gretro");

gretro.use(require("../gretro-text"));

var $$ = 15;
var __ =  0;

describe("Canvas#text", function() {
  var canvas = null;

  beforeEach(function() {
    canvas = new gretro.Canvas(16, 8);
  });

  it("should be able to stroke a text", function() {
    canvas.stroke($$).noFill().text("ABC", 0, 0);

    expect(canvas.toIndexedColor()).to.eql(new Uint8Array([
      __,$$,$$,$$,__,__, $$,$$,$$,$$,__,__, __,$$,$$,$$,
      $$,__,__,__,$$,__, $$,__,__,__,$$,__, $$,__,__,__,
      $$,__,__,__,$$,__, $$,__,__,__,$$,__, $$,__,__,__,
      $$,__,__,__,$$,__, $$,$$,$$,$$,__,__, $$,__,__,__,
      $$,$$,$$,$$,$$,__, $$,__,__,__,$$,__, $$,__,__,__,
      $$,__,__,__,$$,__, $$,__,__,__,$$,__, $$,__,__,__,
      $$,__,__,__,$$,__, $$,$$,$$,$$,__,__, __,$$,$$,$$,
      __,__,__,__,__,__, __,__,__,__,__,__, __,__,__,__,
    ]));
  });

  it("should NOT be able to fill a text", function() {
    canvas.noStroke().fill($$).text("ABC", 0, 0);

    expect(canvas.toIndexedColor()).to.eql(new Uint8Array([
      __,__,__,__,__,__, __,__,__,__,__,__, __,__,__,__,
      __,__,__,__,__,__, __,__,__,__,__,__, __,__,__,__,
      __,__,__,__,__,__, __,__,__,__,__,__, __,__,__,__,
      __,__,__,__,__,__, __,__,__,__,__,__, __,__,__,__,
      __,__,__,__,__,__, __,__,__,__,__,__, __,__,__,__,
      __,__,__,__,__,__, __,__,__,__,__,__, __,__,__,__,
      __,__,__,__,__,__, __,__,__,__,__,__, __,__,__,__,
      __,__,__,__,__,__, __,__,__,__,__,__, __,__,__,__,
    ]));
  });

});
